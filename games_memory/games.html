<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous">
    <title>MEMORY</title>
  </head>
  <body>
    <!--Header-->

    <header>
      <nav class="navbar navbar-light bg-light">
        <div class="container">
          <a class="navbar-brand" href="#">
            <img
              src="https://getbootstrap.com/docs/5.0/assets/brand/bootstrap-logo.svg"
              alt width="30"
              height="24">
          </a>
        </div>
      </nav>
    </header>
    <!--End Header-->
      <!--Container-->

      <div class="container" >
        <label class="text-center">LEVEL</label>
        <select class="form-select" onchange="setElements(this.value)" aria-label="Default select example">
          <option selected>Open this select menu</option>
          <option value="4">EASY</option>
          <option value="6">HALF</option>
          <option value="8">HARD</option>
        </select>
      </div>
      <!--End Container-->
    <!--Container-->

    <div class="container">
      <div class="row" id="containerGame">

      </div>

    </div>
    <!--End Container-->

    <script>
  const idCont=document.getElementById('containerGame');

  var newArrayGames=[];
  var arrayGamesCard=[];
   const uriJson="../assets/doc/User.json";

    function getDataJson(){
      fetch(uriJson)
      .then(response => response.json())
      .then(data =>{
        newArrayGames=data;
       //console.log(newArrayGames);
      } );

    }

    function getRandomArray(min,max,count){
         let contentGame=[];
        if(min>max || count>max -min){
          return false;
        }
        while(contentGame.length<count){

          const num=Math.floor((Math.random()*(max-min))+min);
          if(contentGame.indexOf(num)==-1){
            contentGame.push(newArrayGames[num]);
          }
          
        }
        return arrayGamesCard.concat(contentGame,contentGame.toReversed());

      }

      function setElements(num){
    
        let maxCard=num/2;
        let max=19;
        let min=0;
        let getnewArray=getRandomArray(min,max,maxCard).toReversed();
       let cards="";
       idCont.innerHTML="";
       for(let i=0;i<getnewArray.length;i++){
         cards+='<div class="col m-1"><div class="card" style="width: 18rem;"><img src="assets/img/memory/'+getnewArray[i].img+'" class="card-img-top" alt="..."> <div class="card-body"><h5 class="card-title">'+getnewArray[i].nombre+'</h5><p class="card-text">'+getnewArray[i].valor+'</p></div></div></div>';
        }
        
       idCont.innerHTML=cards;
      }
      window.addEventListener('load',function(){
        getDataJson();
      })
   
    
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

  </body>
</html>